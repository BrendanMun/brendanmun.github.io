<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Introduction to SPAs | ReactJS Tutorials | Brendan Munnelly</title>
	<meta name="description" content="Creating a Single Page Application (SPA) with fixed navbar and footer components.">

	<!-- Stylesheet-->
	<link rel="stylesheet" href="../assets/css/full-stack-tutorials-brendan-munnelly.css" />

	<style>
        /* pre { padding: 0 }  */
        section h2 code { font-weight: 400 }
    </style>

	<!-- Font Awesome 6 icons -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark-reasonable.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>



</head>

	<body id="top">

		<header>
			<div class="wrapper">
				<div class="sidebar">
					<div><p>&nbsp;</p>
					</div>
				</div>
		
				<div class="content">
					<h1>Introduction to SPAs</h1>
					<h2>Creating and deploying a Single Page Application (SPA) with fixed navbar and footer components.</h2>
				</div>
			</div><!-- /wrapper -->
		</header>

		<main>

			<aside>
				<h3>ReactJS COURSE</h3>
	
				<p><i class="fa-solid fa-house"></i> &nbsp;<a href="index.html">Home</a></p>
	
				<h3>THIS TUTORIAL</h3>
				<p><a href="#learning-goals">Learning Goals</a></p>

				<p><a href="#about-spa">About Single Page (SPA) Applications</a></p>
				<p><a href="#vite-start">Scaffolding with Vite</a></p>

				<p><a href="#vite-customise">Customising your app content</a></p>

				<p><a href="#react-router-dom">Installing react-router-dom</a></p>


                <p><a href="#pages-download">Downloading ‘page’ components</a></p>

                <p><a href="#main-update">Updating your main.jsx file</a></p>

                <p><a href="#routes-add">Adding routes to your app.jsx file</a></p>

                <p class="toc-indent"><a href="#page-verify">Verifying your app’s URL paths</a></p>

                <p><a href="#navbar-footer">Adding a navbar and footer to your app</a></p>

                <p><a href="#hyperlinks">Hyperlinks and SPAs</a></p>

                <p><a href="#HashRouter">The HashRouter hack</a></p>





			</aside>
	
	<article>

    <section id="learning-goals">
		<h2>Learning Goals</h2>
		<p>At the end of this Tutorial, you will be able to:</p>

		<ul>
			<li>Create and deploy a Single Page Application (SPA) with fixed navbar and footer components.</li>
		</ul>

	</section>

    <section>
        <h2 id="about-spa">About Single Page (SPA) Applications</h2>
        <p>In a traditional multi-page website, each page is a different HTML file. Navigating to different pages causes a full page reload, fetching a new HTML document from the server. This is called Server-Side Rendering (SSR). Content is typically rendered on the server, and the complete HTML is sent to the client.</p>

        <img src="assets/img/spa-intro/spa.png" alt="">
        

        <p>In contrast, a React app dynamically updates the current page rather than loading entire new pages from the server. Content is loaded once, and new data is retrieved as needed without page reloads.</p>
        
        <p>This is called Client-Side Rendering (CSR). The server sends a single HTML page initially, and the content is then rendered on the client side using JavaScript. Such apps are known as Single Page Applications or SPAs.</p>

    </section>

	<section id="vite-start">
		<h2>Scaffolding with Vite</h2>
        <p>Follow these steps to scaffold your app structure with Vite.</p>
		<ol>
			<li>In a terminal, navigate to where you want Vite to create a folder for your app.
<pre class="no-syn">C:\&gt; react\apps</pre></li>
<li>Enter the following command that includes the name you want to call your new app. For example, <b>app-react-spa</b>.
<pre class="no-syn"><span class="yellow">npm</span> create vite@latest <span class="red">app-react-spa</span> -- --template react</pre>

		Follow the on-screen instructions to build and launch your new app.

        <img src="assets/img/spa-intro/vite-create.png" alt="screenshot" style="max-width: 700px"></li>

    </ol>

	</section>

	<section id="vite-customise">

		<h2>Customising your app content</h2>
		<p>Next, customise the 'boilerplate' content provided by Vite.</p>

		<ol>

			<li>Download the following stylesheet and save it to your app's <span class="syn-js">/src</span> folder.
			<span class="inside-ol">&nbsp;</span>
			<a href="assets/downloads/spa/Petite.css" target="_blank">Petite.css</a></li>
			<li>Open the <b>index.html</b> file in your main app folder and replace the <b>&lt;title&gt;</b> tag content as shown below.
			<img src="assets/img/spa-intro/vite-7.png" alt="screenshot"></li>

			<li>In your <span class="syn-js">/src</span> folder, open the <b>main.jsx</b> file and update it as follows.
			<img src="assets/img/spa-intro/vite-8.png" alt="screenshot" style="max-width: 560px"></li>

			<li>Also in your <span class="syn-js">/src</span> folder, open <b>App.jsx</b> and replace all its content with the content below.</li>

<li><pre><button class="copy-code" id="btn-1">Copy Code <i class="fa-brands fa-react"></i></button><code id="strCode-1">import './Petite.css'

function App() {
  return (
      &lt;&gt;
         &lt;h1&gt;Hello, World!&lt;/h1&gt;
         &lt;p&gt;Paragraph of text.&lt;/p&gt;
      &lt;/&gt;
  );
}	

export default App;</code></pre></li>

		</ol>

		<p>In a browser your app's default web page should now look as shown below.</p>

		<img src="assets/img/spa-intro/output-1.png" alt="Sample React screen">


	</section>


    <section id="react-router-dom">

        <h2>Installing <code>react-router-<span style="letter-spacing: 0;">dom</span></code></h2>

        <p>ReactJS does not natively support page routing. So you need to install the following package in your root app folder.</p>

        <pre class="no-syn"><span class="yellow">npm</span> i react-router-dom</pre>

    </section>
    
    <section id="pages-download">

        <h2>Downloading ‘page’ components</h2>

        <p>Each ‘page’ in your SPA will be a component file, stored in a /pages sub-folder of your /src folder. Follow these steps</p>

        <ol>
            <li>In your <span class="syn-js">/src</span> folder, create a sub-folder named <span class="syn-js">/pages</span>.</li>
            <li>Download these page components to this sub-folder:<br>
            <a href="assets/downloads/spa/Home.jsx" target="_blank">Home.jsx</a><br>
            <a href="assets/downloads/spa/Products.jsx" target="_blank">Products.jsx</a><br>
            <a href="assets/downloads/spa/Contact.jsx" target="_blank">Contact.jsx</a><br> 
            <a href="assets/downloads/spa/PageNotFound.jsx" target="_blank">PageNotFound.jsx</a></li>
        </ol>

    </section>

    <section id="main-update">

        <h2>Updating your <code>main.jsx</code> file</h2>

        <p>Here are the steps to add routes for your four 'pages'.</p>

        <ol>
            <li>Near the top of your <b>main.jsx</b> file, after the first two <b>import</b> statements, add one more:
<pre><code>import { BrowserRouter, Routes, Route } from "react-router-dom";</code></pre>

            Developers often shorten the name of the <b>BrowserRouter</b> function with the <b>Router</b> alias. Also, you may find multi-line syntax easier to read. See below:
<pre><button class="copy-code" id="btn-2">Copy Code <i class="fa-brands fa-react"></i></button><code id="strCode-2">import {
    BrowserRouter as Router,
    Routes, 
    Route
}
from "react-router-dom";</code></pre></li>            
            
        <li>Inside the <b>&lt;React.StrictMode&gt;</b> tag pair, update the <b>&lt;App /&gt;</b> component with the following code:
<pre><button class="copy-code" id="btn-3">Copy Code <i class="fa-brands fa-react"></i></button><code id="strCode-3">&lt;Router&gt;
    &lt;Routes&gt;
        {/* App component wraps around all the 'pages'. */}
        &lt;Route path="*" element={&lt;App /&gt;} /&gt;
    &lt;/Routes&gt;
&lt;/Router&gt;    
</code></pre>

        <b>App.jsx</b> will now act as a <i>layout component</i> that wraps around all the 'pages' in the entire application.</li>

        </ol>

        <p>Here is a summary of what these three imported named functions do:</p>

            <table class="table-js-methods">
                <tbody>
                    <tr>
                       <td style="min-width: 30%"><p><span class="syn-js">BrowserRouter</span></p></td>
                       <td><p>Provides the routing functionality for your app.</p></td>
                    </tr>
                    <tr>
                       <td style="min-width: 30%"><p><span class="syn-js">Routes</span></p></td>
                       <td><p>Defines the routes for your app.</p></td>
                    </tr>
                    <tr>
                        <td style="min-width: 30%"><p><span class="syn-js">Route</span></p></td>
                        <td><p>Defines a single route.</p></td>
                     </tr>
                </tbody>
            </table>                    
        
        </section>


    <section id="routes-add">

        <h2>Adding routes to your <code>app.jsx</code> file</h2>

        <p>Now, update <b>app.jsx</b> as follows:</p>

        <ol>
            <li>Begin by importing your four 'page' components:
<pre><button class="copy-code" id="btn-4">Copy Code <i class="fa-brands fa-react"></i></button><code id="strCode-4">import Home from './pages/Home';
import Products from './pages/Products';
import Contact from './pages/Contact';
import PageNotFound from './pages/PageNotFound';</code></pre></li> 

            <li>Next, import these two functions from <b>react-router-dom</b>:
<pre><button class="copy-code" id="btn-6">Copy Code <i class="fa-brands fa-react"></i></button><code id="strCode-6">import { Routes, Route } from 'react-router-dom';</code></pre></li>
    <li>Finally, update your <b>&lt;App&gt;</b> component as shown below. Each <b>Route</b> now has a <b>path</b> and an <b>element</b> prop:
<pre><button class="copy-code" id="btn-7">Copy Code <i class="fa-brands fa-react"></i></button><code id="strCode-7">function App() {
   return (
      &lt;Routes&gt;
        {/* Use Home component for the root path */}
        &lt;Route index element={&lt;Home /&gt;} /&gt; 
        &lt;Route path="products" element={&lt;Products /&gt;} /&gt;
        &lt;Route path="contact" element={&lt;Contact /&gt;} /&gt;
        &lt;Route path="*" element={&lt;PageNotFound /&gt;} /&gt;
      &lt;/Routes&gt;
   );
}</code></pre></li>
        </ol>

        <h3 id="page-verify">Verifying your app&#8217;s URL paths</h3>

        <p>In your web browser, verify your four web pages display correctly by entering the following URLs:</p>
    
        <ul>
            <li><b>http://localhost:5173</b></li>
            <li>http://localhost:5173/<b>products</b></li>
            <li>http://localhost:5173/<b>contact</b></li>
            <li>http://localhost:5173/<b>abcd1234</b></li>
        </ul>
    
        <p>Each should display the content of the corresponding page component.</p>
            
    </section>


    <section id="navbar-footer">


        <h2>Adding a navbar and footer to your app</h2>
    
        <p>Typically you will want <i>global</i> components such as a <b>&lt;Navbar /&gt;</b> and <b>&lt;Footer /&gt;</b> to display as part of every 'page' of your SPA. Follow these steps:</p>
    
        <ol>
            <li>Download these two components to your <span class="syn-js">/pages</span> sub-folder:<br>
            <a href="assets/downloads/spa/Navbar.jsx" target="_blank">Navbar.jsx</a><br>
            <a href="assets/downloads/spa/Footer.jsx" target="_blank">Footer.jsx</a></li>
            <li>Import the relevant component at the top of your <b>App.jsx</b> file:
<pre><button class="copy-code" id="btn-8">Copy Code <i class="fa-brands fa-react"></i></button><code id="strCode-8">import Navbar from "./pages/Navbar";
import Footer from "./pages/Footer";</code></pre></li>
        <li>Update your App component to include the two new routes:
<pre><button class="copy-code" id="btn-9">Copy Code <i class="fa-brands fa-react"></i></button><code id="strCode-9">function App() {
  return (
    &lt;&gt;
      &lt;Navbar /&gt;
      &lt;main&gt;
      {/* Place non-global routes inside an HTML &lt;main&gt; tag */}
      &lt;Routes&gt;
          {/* Use Home component for the root path */}
          &lt;Route index element={&lt;Home /&gt;} /&gt; 
          &lt;Route path="products" element={&lt;Products /&gt;} /&gt;
          &lt;Route path="contact" element={&lt;Contact /&gt;} /&gt;
          &lt;Route path="*" element={&lt;PageNotFound /&gt;} /&gt;
      &lt;/Routes&gt;
      &lt;/main&gt;
      &lt;Footer /&gt;
    &lt;/&gt;
  );
}</code></pre></li>
   </ol>
    
</section>
    
<section id="hyperlinks">
        <h2>Hyperlinks and SPAs</h2>

        <p>The HTML <b>&lt;a&gt;</b> tag enables hyperlinks between web pages, whether the destination web page is on the same or a different website. For example:</p>
<pre><code>&lt;a href="page-4.html"&gt;Page 4&lt;/a&gt;</code></pre> 
        
        <p>Clicking/tapping a regular HTML hyperlink such as the above <i>loads the entire web page file from the web server</i>. This is an example of server-side rendering (SSR).</p>

        <p>From hyperlinks within an SPA, ReactJS offers the <b>&lt;Link /&gt;</b> component that navigates between page components without accessing the server. This is called client-side rendering (CSR).</p>

        <p>For example:</p>

<pre><code>import { Link } from 'react-router-dom';

<span class="green">// Changes the component being rendered without reloading the page file</span>    
&lt;Link to="/products"&gt;View our Products&lt;/Link&gt;</code></pre>        

        <p>In the <b>PageNotFound.jsx</b> page component, you can see two hyperlinks: an HTML link and a ReactJS component link.</p>

        <img src="assets/img/spa-intro/link-1.png" alt="screenshot">

        <p>Note how the ReactJS link loads much faster, and without a screen flicker.</p>

        <p>Update all the HTML links in your app to ReactJS links. You will need to import this statement in all components using the <b>&lt;Link /&gt;</b> component.</p>

        <pre><code>import { Link } from 'react-router-dom';</code></pre>

        <p>When finished, deploy your app to <a href="build-deploy.html">GitHub and GitHub Pages</a>.</p>
</section>


        <section id="hashrouter">

            <h2>The <code>HashRouter</code> hack</h2>

            <p>After you deploy your SPA to GitHub Pages, you can see that reloading any route other than the Home page displays a blank web page.</p>

            <p>This is because GitHub Pages does not support the React <b>BrowserRouter</b> for client-side routing, which relies on the History API.</p>
            
            <p>A common workaround is to instead use the <b>HashRouter</b> from <b>react-router-dom</b>.</p>

            <p>Here are the steps:</p>

            <ol>
                <li>In your <b>main.jsx </b>file, import <b>HashRouter</b> instead of <b>BrowserRouter:</b>
                <img src="assets/img/spa-intro/hashrouter-1.png" alt="screenshot" style="max-width: 640px"></li>
                                
                
                <li>In your app root folder, create a custom <b>404.html</b> file with a JavaScript snippet that redirects the user to the main application served from the root (/).

<pre><button class="copy-code" id="btn-10">Copy Code <i class="fa-brands fa-react"></i></button><code id="strCode-10">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;404 Not Found&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Page Not Found&lt;/h1&gt;
    &lt;script&gt;
        window.location.href = "/";
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                </li>
                <li>Re-build your app and deploy it to GitHub Pages.</li>
            </ol>


            <p>Note that, for your deployed app, the page routes are prefaced with the hash <b>#</b> character. For example:</p>

            <p>https://username.github.io/app-react-spa/<b>#/products</b><br>
            https://username.github.io/app-react-spa/<b>#/contact</b><br></p>

        </section>
<!-- <section>
    <h3>Hosting your SPA on GitHub Pages</h3> -->

    <!-- <p>if you plan to host your SPA on Github Pages, update the <b>&lt;Router&gt;</b> as follows</p> -->

<!-- <pre class="theme-atom-one-dark" data-lang="js"><code>&lt;Router basename = {process.env.PUBLIC_URL} &gt;</code></pre>     -->

        
<!-- </section> -->



</article>
</main>

<footer>


</footer>
<script>hljs.highlightAll();</script>

<script src="../assets/js/utils-react.js"></script>

</body>
</html>