<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Building and deploying apps | ReactJS Tutorials</title>
	<meta name="description" content="Building a minimised, production-ready version of a ReactJS app and deploying it to GitHub Pages.">

	<meta name="robots" content="noindex">

        <style>
                h2 code, h3 code { font-weight: normal !important}
                span.grey { color: lightgray }
                span.green { color: green }

                ul.git-list li { 
                        margin-bottom: 12px;
                        padding-bottom: 12px;
                        border-bottom: solid 2px #000;
                        
                }
        </style>

    <!-- Stylesheet-->
    <link rel="stylesheet" href="assets/css/reactjs-tutorials.css" />



    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans+Condensed:wght@700&family=Open+Sans:ital,wght@0,400;0,600;0,700;0,800;1,400;1,600;1,700;1,800&family=Roboto+Mono:ital@0;1&display=swap" rel="stylesheet"> 

    <!-- Font Awesome 6 icons -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark-reasonable.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>


</head>

	<body id="top">

		<header>
			<div class="wrapper">
				<div class="sidebar">
					<div><p>&nbsp;</p>
					</div>
				</div>
		
				<div class="content">
					<h1>Building and deploying apps</h1>
					<h2>Building a minimised, production-ready version of a ReactJS app and deploying it to GitHub Pages.</h2>
				</div>
			</div><!-- /wrapper -->
		</header>

		<main>

			<aside>
				<h3>React.JS COURSE</h3>
	
				<p><i class="fa-solid fa-house"></i> &nbsp;<a href="../index.html">Home</a></p>
	
				<h3>THIS TUTORIAL</h3>
				<p><a href="#learning-goals">Learning Goals</a></p>
				<p><a href="#app-build">The build option in create-react-app</a></p>

                                <p><a href="#app-create">Creating your ‘build’ ReactJS app</a></p>
                                <p class="toc-indent"><a href="#build-about">About the /build sub-folder</a></p>
                                
                                <p><a href="#app-test">Testing your ‘build’ ReactJS app</a></p>

                                <p><a href="#app-deploy">Deploying your ‘build’ ReactJS app</a></p>

                                        <p class="toc-indent"><a href="#git-prep">Preparing to use GitHub Pages</a></p>
                                        <p class="toc-indent"><a href="#git-prep-app">Preparing to your app to use GitHub Pages</a></p>
                                        <p class="toc-indent"><a href="#git-add">Adding your app to Git version control</a></p>
                                        <p class="toc-indent"><a href="#git-deploy">Deploying your app to GitHub Pages</a></p>

                                <p><a href="#app-updating">Updating your deployed ReactJS app</a></p>



			</aside>
	
	<article>

        <section id="learning-goals">
		<h2>Learning Goals</h2>
		<p>At the end of this Tutorial, you will be able to:</p>

		<ul>
		        <li>Run the <b>build</b> option within the <b>create-react-app</b> script to create a production-ready version of a ReactJS app.</li>
                        <li>Deploy the build version of an app to GitHub Pages.</li>
		</ul>

	</section>

        <section>

                <h2>Hosting your ReactJS app on GitHub Pages</h2>

                <p>You will use various features of Git to deploy your ReactJS app from your local machine to the GitHub Pages remote server, where your app can be publicly accessed.</p>

                <p>Note that Git includes three different elements:</p>

                <ul class="git-list">
                        <li><b>Git</b>: The software you <a href="https://git-scm.com/downloads" target="_blank">download and install</a> on your local machine to track changes to your files. 
                        <span class="inside-ol">&nbsp;</span>                                
                        You organise your files in so-called &#8216;branches&#8217;. Mostly, you will be storing your files in the <b>main</b> branch.</li>
                        <li><b>GitHub</b>: The &#8216;cloud&#8217; version of Git that runs of remote webservers.
                        <span class="inside-ol">&nbsp;</span>                                
                        The web address of your GitHub account will look like the following:<span class="inside-ol">&nbsp;</span>                                
                        <b>https://github.com/username</b></li>
                        <li><b>GitHub Pages</b>: A special branch named <b>gh-pages</b> that allows you use GitHub as a web hosting service.
                        <span class="inside-ol">&nbsp;</span>                                                                
                        You can view your hosted files on GitHub at a web address like the following:<span class="inside-ol">&nbsp;</span>                                
                        <b>https://username.github.io</b>
                        
                        </li>


                </ul>
        </section>

	<section id="app-build">
		<h2>The <code>build</code> option in <code>create-react-app</code></h2>

                <p>Creating a ReactJS app with the <b>create-react-app</b> script generates a huge number of files with a very large total file size.</p>

                <img src="assets/img/build-deploy/pre-build.png" alt="">

                <p><i>Clearly, it would not be practical to deploy all these files to a remote web server.</i></p>

                <p>The good news is that <b>create-react-app</b> includes options to:</p>
                
                <ul>
                        <li><i>Build</i> a minimal version of your app by bundling the modules and assets with <a href="https://webpack.js.org/" target="_blank">Webpack</a>, and optimising the code.</li>
                        <li><i>Test</i> this minimal version on your local development web server.</li>
                        <li><i>Deploy</i> the minimal version to a remote web server such as GitHub Pages.</li>
                </ul>

                <p>A typical &#8216;build&#8217; version of a ReactJS app might be about 500 KB in total file size.</p>


                <p>Let&#8217;s look at these steps in more detail.</p>

        </section>                
        
        <section>

                <h2 id="app-create">Creating your &#8216;build&#8217; ReactJS app</h2>
                
                <p>Follow the steps below :</p>

                <ol>
                        <li>Open a new Command Prompt or, in VS Code, a new Terminal.</li>
        
                        <li>Navigate to the folder that contains your app. For example:
        <pre>C:\myapps\todos-app&gt; </pre>
                        </li>
                        <li>In your app folder, run the command below.
        <pre><span class="yellow">npm</span> run build</pre></li>
        
                <li>When the process completes, you should see a message similar to the following:
                <img src="assets/img/build-deploy/build-1.png" alt="screenshot" style="max-width:600px"></li>
        
        </ol>

        <p>You can leave this Command Prompt or Terminal open on your screen. You will be using it to complete further steps in the app deployment process.</p>

                <h3 id="build-about">About the <code>/build</code> sub-folder</h3>

                <p>Running the <b>build</b> script creates a new sub-folder named <span class="syn-js">/build</span> inside the folder that contains your ReactJS app. In this sub-folder are the files you will deploy to the remote web server. </p>
        
        </section>

        <section>
        
                <h2 id="app-test">Testing your &#8216;build&#8217; ReactJS app</h2>

                <p>It is good practice to test the &#8216;build&#8217; version of your app <i>before</i> deploying it to a remote web server. Here are the steps:</p>

                <ol>

                        <li>Inside your app folder, run this command to install the <b>serve</b> package.

<pre><span class="yellow">npm</span> install -g serve</pre>
                When the process completes, you should see a message similar to the following.
                <img src="assets/img/build-deploy/serve-1.png" style="max-width: 700px" alt="screenshot"></li>

                        <li>And now run the <b>serve</b> command as follows:

<pre><span class="yellow">serve</span> <span class="grey">-s</span> build</pre>
You should now see a message like that below.
        <img src="assets/img/build-deploy/serve-2.png" style="max-width: 620px" alt="screenshot">
        </li>
        <li>In your browser, navigate to the provided local address to verify the &#8216;build&#8217; version of your ReactJS app runs without errors.</li>
        </ol>

</section>


<section id="app-deploy">
    <h2>Deploying your &#8216;build&#8217; ReactJS app</h2>

    <p>You now are ready to deploy your app to a remote web server. This section takes you through the steps involved.</p>


    <h3 id="git-prep">Preparing to use GitHub Pages</h3>
    <p>Begin with these steps:</p>

    <ol>

        <li>Sign into your account on GitHub and create a new repo to host your app.

        <img src="assets/img/build-deploy/serve-3.png" alt="">

        Give your new repo a name. But <i>do not</i> initialise it with README, license, or .gitignore files. Your repo should be empty.
        <img src="assets/img/build-deploy/serve-4.png" alt=""></li>

        <li>You will be deploying your app&#8217;s build files to the <b>gh-pages</b> branch of your GitHub repo. So you need to install the package below in your app&#8217;s folder.

<pre><span class="yellow">npm</span> install gh-pages <span class="grey">--save-dev</span></pre></li>



        </ol>


        <h3 id="git-prep-app">Preparing to your app to use GitHub Pages</h3>
        <p>By default, the <b>build</b> option of the <b>create-react-app</b> script produces a build that assumes your ReactJS app will hosted at the server root. On GitHub Pages the server root will be:</p>
       
        <p><b>https://username.github.io</b></p>  

        <p>However, you will instead host your app in a sub-folder, where the sub-folder name is the name you have given to your GitHub repo. So the address of your app on GitHub Pages will be in this format:</p>

        <p><b>https://username.github.io/<span class="gray">repo-name</span></b></p>  

        <p>For example:</p>

        <p><b>https://johnsmith.github.io/<span class="grey">todos</span><br>
        https://johnsmith.github.io/<span class="grey">spa</span><br>
        https://johnsmith.github.io/<span class="grey">blog</span></b></p>  

        <p>To override this default, follow these steps:</p>

    
        <ol>
                <li>In VS Code, open your app&#8217;s <b>package.json</b> file and add the  following line after the opening curly brace <span class="syn-js">{</span> at the top of the file:

<pre>"homepage": "https://username.github.io/repo-name/",</pre>
                        
                The top part of your <b>package.json</b> file should now look something like this:

                <img src="assets/img/build-deploy/serve-5.png" alt="">

                This will ensure the <b>build</b> option within <b>create-react-app</b> correctly infers the root path to use in the generated <b>index.html</b> file inside your <span class="syn-js">/build</span> folder.</li>
                        
                <li>In the same file, add these two scripts to the end of the <b>scripts</b> section:
                        
<pre>"scripts": {
<span class="green">// ... other scripts here,</span>
    "predeploy": "npm run build",
    "deploy": "gh-pages -d build"
}</pre>

                Your <b>scripts</b> section should now look something like this:

                <img src="assets/img/build-deploy/serve-6.png" alt="" style="max-width: 620px"></li>
        </ol>                        


        <h3 id="git-add">Adding your app to Git version control</h3>

        <p>You will be using Git to &#8216;push&#8217; your app&#8217;s build files to the remote server, in this case, GitHub Pages. So your app folder needs to be under Git version control, and its files need to be added and committed to Git.</p>

        <p>Here are the steps:</p>

        <ol>
        <li>Initialise Git for the folder that contains your app.

<pre><span class="yellow">git</span> init</pre></li>

        <li>Git does not automatically track changes to the files in your app folder. You need to add them with this command:
<pre><span class="yellow">git</span> add .</pre></li>

        <li>Next, commit the latest version of your files to Git with a helpful message:
<pre><span class="yellow">git</span> commit <span class="grey">-m</span> <span class="green">"Initial commit"</span></pre></li>
                
        <li>Your final step before deploying is to link your local Git repo to your remote GitHub repo. Enter this command:

<pre><span class="yellow">git</span> remote add origin https://github.com/username/repo-name.git&nbsp;</pre></li>

</ol>

        <h3 id="git-deploy">Deploying your app to GitHub Pages</h3>

        <p>After completing all the above steps, run the command below from inside your app&#8217;s folder to deploy your app to GitHub Pages:</p>

<pre><span class="yellow">npm</span> run deploy</pre>

    <p>✅ &nbsp;Success!</p>
    
    <p>You can now access your deployed ReactJS app at a web address similar to the following:</p>

        <p><b>https://username.github.io/repo-name</b></p>

        <p>Every time you make changes to your app and want to update the live version, you'll need to run <b>npm run deploy</b> again.</p>
    </section>


    <section>
        <h2 id="app-updating">Updating your deployed ReactJS app</h2>

        <p>Over time, you may make changes to your app and wish to deploy the new verion to GitHub Pages. Here are the steps:</p>

        <ol>
                <li>Update and save your app on your local server.</li>
                <li>From inside your app folder, update the &#8216;build&#8217; version of your app for deployment.
<pre><span class="yellow">npm</span> run build</pre></li>
                <li>Test the &#8216;build&#8217; version of your app locally.
<pre><span class="yellow">serve</span> <span class="grey">-s</span> build</pre></li>                        
                <li>If your app has new files, you will need to add them to Git version control.
<pre><span class="yellow">git</span> add .</pre></li>
                <li>Commit the latest version of your files to Git with a helpful message.
<pre><span class="yellow">git</span> commit <span class="grey">-m</span> <span class="comment">"Added user authentication"</span></pre></li>
                <li>Finally, deploy your updated app.
<pre><span class="yellow">npm</span> run deploy</pre>
</li>
        </ol>
        <p>✅ &nbsp;That&#8217;s it.</p>
    </section>

</article>
</main>

<footer>


</footer>
<script>hljs.highlightAll();</script>

<script src="assets/js/utils.js"></script>

</body>
</html>